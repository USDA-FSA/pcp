@keyframes rift-detail-show {
  from {
    opacity: 0;
    transform: translateY($size-default);
  }
  to {
    opacity: 1;
    transform: translateY(0%);
  }
}

$mapPanelWidth: ($size-base * 85);
$mapPanelIconHeight: $size-large;
$mapPanelIconWidth: $size-medium;

.pcp-mapping {

  margin: $size-medium 0;

  // ---------------------------------------------------------------------------

  &--fullscreen {
    margin: 0;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: $color-fsa-site-bg;
    z-index: 2;
  }

  // ---------------------------------------------------------------------------

  &__hd {}

  &__toolbar {}

  &__bd {

    position: relative;
    overflow: hidden;
    border: 1px solid $color-fsa-tertiary-200;
    border-top: 0;
    background-color: $color-white;

  }

  &__ft {}

  // ---------------------------------------------------------------------------

  &__panel {

    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: $mapPanelWidth;
    min-width: ($mapPanelWidth * .8);
    max-width: ($mapPanelWidth * 2);
    background-color: $color-white;
    border-right: 1px solid $color-fsa-tertiary-200;
    transform: translateX(-100%);
    transition: all .23s ease-in-out;
    z-index: 1001;
    box-shadow: 0 0 $size-small rgba(0, 0, 0, .4);

    display: flex;
    flex-direction: column;

    // scss-lint:disable SelectorFormat
    .pcp-mapping--fullscreen & {
      width: ($size-base * 100);
    }

    &--visible {
      transform: translateX(0);
    }

  }

  &__panel-toggle {
    position: absolute;
    right: -$mapPanelIconWidth;
    top: $mapPanelIconHeight / 2;
    display: none;
  }

  &__panel-splitter {

    $splitter-width: $size-base;

    display: none;
    position: absolute;
    right: -($splitter-width * 2);
    top: 0;
    bottom: 0;
    border-left: $splitter-width solid transparent;
    border-right: $splitter-width solid transparent;
    cursor: ew-resize;

    // scss-lint:disable SelectorFormat
    .pcp-mapping__panel--visible & {
      display: block;
    }

    &:hover {
      border-left-color: $color-fsa-aqua;
    }

    &:active {
      border-left-color: $color-fsa-aqua-900;
    }

  }

  &__panel-btn {

    appearance: none;
    border: 0;
    padding: 0;
    margin: 0;
    display: inline-block;
    text-indent: -($mapPanelIconWidth * 10);
    overflow: hidden;
    width: $mapPanelIconWidth;
    height: $mapPanelIconHeight;
    background-color: $color-fsa-site-bg;
    border: 1px solid $color-fsa-tertiary-200;
    border-left-width: 0;
    border-radius: 0 2px 2px 0;

    &--toggled {
      // outline: 1px solid red;
    }

  }

  &__panel-bd {

    display: flex;
    flex-direction: column;

    &--scrollable {
      display: flex;
      flex-direction: column;
      overflow: auto;
    }

  }

  &__panel-bd--splitter {

    $splitter-height: $size-base;

    height: ($splitter-height * 3);
    margin-top: -($splitter-height + ($splitter-height / 2));
    margin-bottom: -($splitter-height + ($splitter-height / 2));
    cursor: ns-resize;
    z-index: 2;

    &:before,
    &:after {
      content: '';
      display: block;
      height: $splitter-height;
    }

    i {
      display: block;
      height: $splitter-height;
    }

    &:hover {
      i {
        background-color: $color-fsa-aqua;
      }
    }

    &:active {
      i {
        background-color: $color-fsa-aqua-900;
      }
    }

  }

  &__panel-bd-scroll-item {

    overflow: auto;
    min-height: 124px;

    @supports (position: sticky) {
      border-top: 0;
    }

    &--no-scroll {
      min-height: initial;
      overflow: initial;
    }

  }

  &__map {

    min-height: 540px;
    height: 70vh;
    overflow: hidden;

    // scss-lint:disable SelectorFormat
    .pcp-mapping--fullscreen & {
      border: 0;
      height: calc(100vh - 4.6px); // magic number
    }

  }

  &__PLACEHOLDER {
    max-width: none;
  }

  // ---------------------------------------------------------------------------

  &__tools-primary {

    position: absolute;
    top: $size-small;
    right: $size-small;

  }

  &__tools-secondary {

    position: absolute;
    bottom: $size-small;
    right: $size-small;
    background-color: $color-fsa-tertiary-100;
    padding: $size-base;
    border: 1px solid $color-fsa-tertiary-200;

  }

  &__zoom {

    $icon-size: $size-large;

    position: relative;
    appearance: none;
    border: 0;
    padding: 0;
    margin: 0;
    display: inline-block;
    text-indent: $icon-size * 5;
    overflow: hidden;
    width: $icon-size;
    height: $icon-size;
    background-color: $color-fsa-tertiary;
    box-shadow:

    &--toggled {
      outline: 1px solid red;
    }

  }

  &__tool {

    width: $size-large;
    height: $size-large;
    background-color: $color-tertiary;

    &--ly {
      outline: 2px dotted red;
    }

    &--th {
      outline: 2px dotted blue;
    }

    &--zm {
      outline: 2px dotted green;
    }

    &--hm {
      outline: 2px dotted purple;
    }

  }


  // ---------------------------------------------------------------------------

  &__marker {
    position: absolute;
  }

  &__rift-detail {

    display: none;
    position: absolute;
    left: $mapPanelWidth + $size-medium;
    bottom: $size-medium;
    width: 220px;

    &--visible {
      display: block;
      animation: rift-detail-show 230ms ease-in-out;
    }

  }

}
